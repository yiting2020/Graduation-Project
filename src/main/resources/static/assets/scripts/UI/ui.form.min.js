(function(){var t=ui.theme.highlight.background,e=ui.theme.highlight.font;var n="input-radio-checked";var i="<label class='input-checkbox' />",s="<label class='input-checkbox input-checkbox-checked' />",a="<label class='input-radio' />",r="<label class='input-radio input-radio-checked' />";var h=function(){};h.prototype={warpCheckBox:function(t){if(t.prop("checked")){t.wrap(s)}else{t.wrap(i)}t.change($.proxy(this.changeHandler,this))},changeHandler:function(t){var e=$(t.target);this.setCheckedChange(e)},setCheckedChange:function(t){var e=t.parent();if(t.prop("checked")){e.addClass("input-checkbox-checked")}else{e.removeClass("input-checkbox-checked")}}};var o="undefined";var l=function(){this.radios={}};l.prototype={warpRadioButton:function(t){var e=t.prop("name");if(!e||e.length==0){e=o}var n;if(this.radios.hasOwnProperty(e)){n=this.radios[e]}else{n=[];this.radios[e]=n}if(t.prop("checked")){t.wrap(r);this.currentRadio=t}else{t.wrap(a)}n.push(t);t.change($.proxy(this.changeHandler,this))},changeHandler:function(t){var e=$(t.target);this.setCheckedChange(e)},setCheckedChange:function(t){var e=t.prop("name");var i,s,a=0;if(!e||e.length==0){e=o}i=this.radios[e];for(;a<i.length;a++){s=i[a].parent();if(s.hasClass(n)){s.removeClass(n);break}}s=t.parent();if(t.prop("checked")){s.addClass(n)}else{s.removeClass(n)}}};var c=new h;var p=new l;$.fn.metroCheckbox=function(){if(this.length==0){return}if(this.length==1){c.warpCheckBox(this)}else{var t=0;for(;t<this.length;t++){c.warpCheckBox($(this[t]))}}return this};$.fn.setMCChecked=function(t){var e=this.prop("checked");if(e!=t){this.prop("checked",!e);c.setCheckedChange(this)}};$.fn.metroRadio=function(){if(this.length==0){return}if(this.length==1){p.warpRadioButton(this)}else{var t=0;for(;t<this.length;t++){p.warpRadioButton($(this[t]))}}return this};$.fn.setMRChecked=function(t){var e=this.prop("checked");if(e!=t){this.prop("checked",!e);p.setCheckedChange(this)}};$.fn.foldPanel=function(){var n=this;if(n.length==0)return;var i=n.find("dt"),s=null,a="",r=null;for(var h=0,o=i.length;h<o;h++){s=$(i[h]);s.addClass("fold-panel-title");a=s.text();r=$("<div class='fold-close border-highlight' />");if(s.next().css("display")==="none"){r.addClass(t).text("+")}else{r.addClass(e).text("-")}s.html("");s.append(r).append($("<span />").text(a).addClass(e));s.click(d)}};var d=function(n){var i=$(n.target);if(i.prop("tagName")==="DT")return;i=i.parent();var s=$(i.find("div")[0]);var a=i.next();if(a.css("display")==="none"){s.removeClass(t).addClass(e).text("-");a.css("display","block")}else{s.removeClass(e).addClass(t).text("+");a.css("display","none")}n.stopPropagation()};var u=40,f=0,g=0;var v=0;var C=ui.define("ctrls.CtrlPanel",ui.ctrls.Sidebar,{_create:function(){this._super();if(!this.parent){ui.error("parent is not exists")}this.contentPanel=null;this.top=0;this.left=0},_init:function(){this.titlePanel=$("<section class='ctrl-title-panel' />");this.contentPanel=$("<section class='ctrl-content-panel' />");this._super();this.panel=this._panel;this.panel.removeClass("sidebar-panel");this.panel.addClass("form-ctrl-panel");this.panel.append(this.titlePanel);this.panel.append(this.contentPanel);this._contentAppend(this.element);this.opacityOption={target:this.panel,ease:ui.AnimationStyle.easeFromTo,onChange:function(t,e){e.css({filter:"Alpha(opacity="+t+")",opacity:t/100})}};this.animator.duration=240},setSizeLocation:function(t){this._super(t);var e=this.height-u-f-g-f;this.contentPanel.css({"max-height":e+"px"});if(this.buttonPanel){if(e<v){this.buttonPanel.css("width",this.width-ui.scrollbarWidth+"px")}else{this.buttonPanel.css("width","100%")}}},titleAppend:function(t){this.titlePanel.append(t);return this},_contentAppend:function(t){if(ui.core.isDomObject(t)){t=$(t)}else if(!ui.core.isJQueryObject(t)){return}v+=t.height();this.contentPanel.append(t)},buttonAppend:function(t){if(ui.core.type(t)==="string"){t=$("#"+t)}else if(ui.core.isDomObject(t)){t=$(t)}else if(!ui.core.isJQueryObject(t)){return}var e=null;if(!this.buttonPanel){this.buttonPanel=$("<section class='ctrl-button-panel' />");e=$("<div class='ctrl-form' />");this.buttonPanel.append(e);this.panel.append(this.buttonPanel);f=30;g=24;this.setSizeLocation()}else{e=this.buttonPanel.find(".ctrl-form")}e.append(t);return this},show:function(){this.opacityOption.begin=0;this.opacityOption.end=100;this._super(this.opacityOption)},hide:function(){this.opacityOption.begin=100;this.opacityOption.end=0;this._super(this.opacityOption)}});$.fn.toCtrlPanel=function(t){if(!this||this.length==0||this.nodeName()!=="DIV"){return null}var e=new Error("parent is null");if(!t.parent)throw e;if(ui.core.type(t.parent)==="string"){t.parent=$("#"+t.parent);if(t.parent.length==0){throw e}}return C(t,this)}})();